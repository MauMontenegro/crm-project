{% extends "accounts/base.html" %}

{%block title%}
<title>Customer</title>
{% endblock %}

{%block content%}

<div class="grid grid-cols-3">
    <div class="col-span-1 m-3">
        <div class="text-center bg-slate-50 rounded-lg shadow-md overflow-hidden"> <!--Card Class-->
            <div class="p-2 bg-slate-200">
                <h5 class="font-bold">Customer</h5>
            </div>
            <div class="flex flex-col">
                <button class="border-blue-500 border border-1 p-1 m-1 text-blue-500 hover:font-bold hover:border-2">
                    Update Customer
                </button>
                <button class="border-green-500 border border-1 p-1 m-1 text-green-500 hover:font-bold hover:border-2">
                    <a href="{%url 'home:create_order' customer.id %}">Create New Order</a>
                </button>
            </div>
        </div>
    </div>
    <div class="col-span-1 m-3">
        <div class="text-center bg-slate-50 rounded-lg shadow-md overflow-hidden"> <!--Card Class-->
            <div class="p-2 bg-slate-200">
                <h5 class="font-bold">Contact Information</h5>
            </div>
            <div class="flex flex-col m-2">
                <p>Email:{{customer.email}}</p>
                <p>Phone:{{customer.phone}}</p>
            </div>
        </div>
    </div>
    <div class="col-span-1 m-3">
        <div class="text-center bg-slate-50 rounded-lg shadow-md overflow-hidden"> <!--Card Class-->
            <div class="p-2 bg-slate-200">
                <h5 class="font-bold">Total Orders</h5>
            </div>
            <div>
                <p>{{total_orders}}</p>
            </div>
        </div>
    </div>
</div>

<div class="m-3 bg-slate-50 rounded-lg shadow-md">
    <div class="flex flex-initial">
        <form method="get" action="">
            <button type="submit" class="bg-blue-800 text-white rounded border border-blue-700 m-2 p-2 shadow-lg hover:bg-blue-950">
                Search
            </button>
            <input name="query" value="{{query}}" type="text" class="border rounded-xl p-2" placeholder="Insert a Product Name">
           
            <select name="query2">
                <option value="" {% if not query2 %}selected{% endif %}></option>
                <option value="Indoor" {% if query2 == 'Indoor' %}selected{% endif %}>Indoor</option>
                <option value="Outdoor" {% if query2 == 'Outdoor' %}selected{% endif %}>Outdoor</option>
            </select>
         
            <select name="query3">
                <option value="" {% if not query3 %}selected{% endif %}></option>
                <option value="Pending" {% if query3 == 'Pending' %}selected{% endif %}>Pending</option>
                <option value="Delivered" {% if query3 == 'Delivered' %}selected{% endif %}>Delivered</option>
                <option value="Out" {% if query3 == 'Out' %}selected{% endif %}>Out of delivery</option>
            </select>
            </select>
        </form>
    </div>
</div>

<div class="m-3 bg-slate-50 rounded-lg shadow-md">
<div>
    <table class="w-full text-sm text-left">
        <tr>
            <th>Product</th>
            <th>Category</th>
            <th>Date Ordered</th>
            <th>Status</th>
            <th>Update</th>
            <th>Remove</th>
        </tr>
        {%for order in orders%}
            <tr>
                <td>{{order.product}}</td>
                <td>{{order.product.category}}</td>
                <td>{{order.date_created}}</td>
                <td>{{order.status}}</td>
                <td><a href=""></a>Update</td>
                <td><a href=""></a>Delete</td>
            </tr>

        {%endfor%}
    </table>
</div>
</div>

{%endblock%}